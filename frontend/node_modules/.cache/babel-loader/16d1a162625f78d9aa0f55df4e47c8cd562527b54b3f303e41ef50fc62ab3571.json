{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\faria\\\\Downloads\\\\monoStackOverFlow\\\\StackOverflow-main\\\\frontend\\\\src\\\\components\\\\Login.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport API from '../api';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Login = ({\n  closeForm\n}) => {\n  _s();\n  const [formData, setFormData] = useState({\n    username: '',\n    password: ''\n  });\n  const [error, setError] = useState('');\n  const handleChange = e => {\n    setFormData({\n      ...formData,\n      [e.target.name]: e.target.value\n    });\n    setError(''); // Clear previous error when user types\n  };\n  const handleSubmit = async e => {\n    e.preventDefault();\n    try {\n      console.log('Attempting login with:', formData); // Debugging log\n\n      const {\n        data\n      } = await API.post('/auth/login', {\n        username: formData.username,\n        password: formData.password\n      });\n      console.log('Login successful, received token:', data.token);\n      localStorage.setItem('token', data.token);\n      localStorage.setItem('username', formData.username);\n      alert('Login successful');\n      window.location.href = '/dashboard';\n    } catch (error) {\n      var _error$response;\n      if (error.response && error.response.status === 400) {\n        setError('Invalid username or password');\n      } else {\n        setError('Server error. Please try again later.');\n      }\n      console.error('Login failed:', ((_error$response = error.response) === null || _error$response === void 0 ? void 0 : _error$response.data) || error.message);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"form-overlay\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"form-container\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Sign In\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: handleSubmit,\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          name: \"username\",\n          placeholder: \"Username\",\n          onChange: handleChange,\n          value: formData.username,\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 44,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          name: \"password\",\n          type: \"password\",\n          placeholder: \"Password\",\n          onChange: handleChange,\n          value: formData.password,\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 51,\n          columnNumber: 11\n        }, this), error && /*#__PURE__*/_jsxDEV(\"p\", {\n          style: {\n            color: 'red'\n          },\n          children: error\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          children: \"Login\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"button\",\n          className: \"close-btn\",\n          onClick: closeForm,\n          children: \"Close\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 40,\n    columnNumber: 5\n  }, this);\n};\n_s(Login, \"8z2qeVQc3ePeT1EDFqAU7R84px4=\");\n_c = Login;\nexport default Login;\nvar _c;\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"names":["React","useState","API","jsxDEV","_jsxDEV","Login","closeForm","_s","formData","setFormData","username","password","error","setError","handleChange","e","target","name","value","handleSubmit","preventDefault","console","log","data","post","token","localStorage","setItem","alert","window","location","href","_error$response","response","status","message","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onSubmit","placeholder","onChange","required","type","style","color","onClick","_c","$RefreshReg$"],"sources":["C:/Users/faria/Downloads/monoStackOverFlow/StackOverflow-main/frontend/src/components/Login.js"],"sourcesContent":["import React, { useState } from 'react';\nimport API from '../api';\n\nconst Login = ({ closeForm }) => {\n  const [formData, setFormData] = useState({ username: '', password: '' });\n  const [error, setError] = useState('');\n\n  const handleChange = (e) => {\n    setFormData({ ...formData, [e.target.name]: e.target.value });\n    setError(''); // Clear previous error when user types\n  };\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    try {\n      console.log('Attempting login with:', formData); // Debugging log\n\n      const { data } = await API.post('/auth/login', {\n        username: formData.username,\n        password: formData.password,\n      });\n\n      console.log('Login successful, received token:', data.token);\n\n      localStorage.setItem('token', data.token);\n      localStorage.setItem('username', formData.username);\n      alert('Login successful');\n      window.location.href = '/dashboard';\n    } catch (error) {\n      if (error.response && error.response.status === 400) {\n        setError('Invalid username or password');\n      } else {\n        setError('Server error. Please try again later.');\n      }\n      console.error('Login failed:', error.response?.data || error.message);\n    }\n  };\n\n  return (\n    <div className=\"form-overlay\">\n      <div className=\"form-container\">\n        <h2>Sign In</h2>\n        <form onSubmit={handleSubmit}>\n          <input\n            name=\"username\"\n            placeholder=\"Username\"\n            onChange={handleChange}\n            value={formData.username}\n            required\n          />\n          <input\n            name=\"password\"\n            type=\"password\"\n            placeholder=\"Password\"\n            onChange={handleChange}\n            value={formData.password}\n            required\n          />\n          {error && <p style={{ color: 'red' }}>{error}</p>}\n          <button type=\"submit\">Login</button>\n          <button type=\"button\" className=\"close-btn\" onClick={closeForm}>\n            Close\n          </button>\n        </form>\n      </div>\n    </div>\n  );\n};\n\nexport default Login;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}